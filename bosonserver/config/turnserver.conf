# Coturn configuration for BosonServer
# This file is used by coturn TURN/STUN server

# Listening ports
listening-port=3478
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=65535

# Realm
realm=bosonserver

# Static authentication (can be overridden by REST API)
# Format: username:password
# For production, use REST API for dynamic credentials
static-auth-secret=CHANGE_THIS_IN_PRODUCTION

# Logging
log-file=/var/log/turnserver.log
verbose

# No authentication for STUN (RFC 5389)
no-stun-backward-compatibility

# Use fingerprint in TURN messages
fingerprint

# Use long-term credential mechanism
lt-cred-mech

# Use REST API for authentication (optional, for dynamic credentials)
# rest-api-secret-file=/etc/turnserver-rest-api-secret

# Database for users (optional, if using database authentication)
# userdb=/var/lib/turn/turndb

# Deny access to private IP ranges
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# Allow loopback addresses for testing
allowed-peer-ip=127.0.0.1
allowed-peer-ip=::1

# No CLI interface
no-cli

# Process as daemon (supervisor will manage it)
no-daemon

# PID file
pidfile=/var/run/turnserver.pid

# User and group (will run as turnserver user if exists)
# user=turnserver
# group=turnserver

