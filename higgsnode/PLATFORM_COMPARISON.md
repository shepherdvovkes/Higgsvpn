# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ HiggsNode –¥–ª—è Windows –∏ macOS

## ‚úÖ –í—ã–≤–æ–¥: –ù–æ–¥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ Windows –∏ macOS. –†–∞–∑–ª–∏—á–∏—è —Ç–æ–ª—å–∫–æ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏, –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º).

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (100% —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ)

#### 1. **NodeService** (`src/services/NodeService.ts`)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∑–∞–ø—É—Å–∫–∞ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ bosonserver
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ cleanup –∑–∞–¥–∞—á

#### 2. **ConnectionManager** (`src/managers/ConnectionManager.ts`)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ heartbeat
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ reconnect
- ‚úÖ **–û–¥–∏–Ω–∞–∫–æ–≤—ã–π –º–µ—Ç–æ–¥ `disconnect()` —Å –≤—ã–∑–æ–≤–æ–º `unregister()`** ‚úÖ

#### 3. **ApiClient** (`src/services/ApiClient.ts`)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã: `register()`, `sendHeartbeat()`, `sendMetrics()`
- ‚úÖ **–ú–µ—Ç–æ–¥ `unregister()` –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º** ‚úÖ

#### 4. **Graceful Shutdown** (`src/index.ts`)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: `SIGTERM`, `SIGINT`, `uncaughtException`, `unhandledRejection`
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ cleanup —Å —Ç–∞–π–º–∞—É—Ç–æ–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –≤—ã–∑–æ–≤ `registerCleanup()`

#### 5. **Start Command** (`src/cli/commands/start.ts`)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏: WireGuard, –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è NodeService
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è cleanup —á–µ—Ä–µ–∑ `registerCleanup()`

#### 6. **CleanupManager** (`src/managers/CleanupManager.ts`)
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è cleanup –∑–∞–¥–∞—á
- ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (reverse order)

### üîß –ü–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Ä–∞–∑–ª–∏—á–∏—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ª–æ–≥–∏–∫–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è)

#### 1. **RoutingEngine** (`src/engines/RoutingEngine.ts`)
- **–õ–æ–≥–∏–∫–∞:** –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
  - Windows: `netsh interface ipv4 add route`
  - macOS: `route add`
  - Linux: `ip route add`
- ‚úÖ –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è WireGuard –ø–æ–¥—Å–µ—Ç–∏
  - –í–∫–ª—é—á–µ–Ω–∏–µ IP Forwarding
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT

#### 2. **NetworkRouteManager** (`src/managers/NetworkRouteManager.ts`)
- **–õ–æ–≥–∏–∫–∞:** –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
  - Windows: PowerShell –∫–æ–º–∞–Ω–¥—ã
  - macOS: `route` –∫–æ–º–∞–Ω–¥—ã
  - Linux: `ip` –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ routing —Ç–∞–±–ª–∏—Ü–∞–º–∏

#### 3. **WireGuardManager** (`src/managers/WireGuardManager.ts`)
- **–õ–æ–≥–∏–∫–∞:** –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ –ø—É—Ç–∏ –∫ WireGuard
  - Windows: `C:\Program Files\WireGuard\wg.exe`
  - macOS: `/usr/local/bin/wg` –∏–ª–∏ `/opt/homebrew/bin/wg`
  - Linux: `/usr/bin/wg`
- ‚úÖ –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
  - –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

#### 4. **NetworkInterface** (`src/utils/networkInterface.ts`)
- **–õ–æ–≥–∏–∫–∞:** –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
  - Windows: PowerShell `Get-NetRoute`, `netsh`
  - macOS: `route get default`, `ifconfig`
  - Linux: `ip route`, `ifconfig`
- ‚úÖ –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
  - –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ –∏ gateway

#### 5. **Platform Utils** (`src/utils/platform.ts`)
- **–õ–æ–≥–∏–∫–∞:** –û–¥–∏–Ω–∞–∫–æ–≤–∞—è –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –†–∞–∑–Ω—ã–µ –ø—É—Ç–∏ –∏ –º–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏
  - Windows: `net session` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
  - macOS/Linux: `process.getuid()` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
- ‚úÖ –í—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ WireGuard
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | Windows | macOS | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ |
|---------|---------|-------|--------------|
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ bosonserver | ‚úÖ | ‚úÖ | 100% |
| Heartbeat | ‚úÖ | ‚úÖ | 100% |
| Graceful shutdown | ‚úÖ | ‚úÖ | 100% |
| Unregister –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ | ‚úÖ | ‚úÖ | 100% |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ | ‚úÖ | 100% |
| Cleanup –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ | ‚úÖ | ‚úÖ | 100% |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ | ‚úÖ | ‚úÖ | 100% (—Ä–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã) |
| –ù–∞—Å—Ç—Ä–æ–π–∫–∞ NAT | ‚úÖ | ‚úÖ | 100% (—Ä–∞–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã) |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WireGuard | ‚úÖ | ‚úÖ | 100% (—Ä–∞–∑–Ω—ã–µ –ø—É—Ç–∏) |
| –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ | ‚úÖ | ‚úÖ | 100% |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ | ‚úÖ | ‚úÖ | 100% |

## ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ)

### 1. **Graceful Shutdown –∏ Unregister**
```typescript
// –û–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
// src/index.ts
process.on('SIGTERM', () => gracefulShutdown('SIGTERM'));
process.on('SIGINT', () => gracefulShutdown('SIGINT'));
process.on('unhandledRejection', () => gracefulShutdown('unhandledRejection'));
process.on('uncaughtException', () => gracefulShutdown('uncaughtException'));

// src/managers/ConnectionManager.ts
async disconnect(): Promise<void> {
  await this.apiClient.unregister(this.state.nodeId); // ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ
}

// src/services/ApiClient.ts
async unregister(nodeId: string): Promise<void> {
  await this.client.delete(`/api/v1/nodes/${nodeId}`); // ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ
}
```

### 2. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ Heartbeat**
```typescript
// –û–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
// src/services/NodeService.ts
await this.connectionManager.register(registerRequest); // ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ

// src/managers/ConnectionManager.ts
async register(request: RegisterNodeRequest): Promise<RegisterNodeResponse> {
  const response = await this.apiClient.retryRequest(() => 
    this.apiClient.register(request)
  ); // ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ
  this.startHeartbeat(); // ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ
}
```

### 3. **Cleanup Tasks**
```typescript
// –û–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:
// src/services/NodeService.ts
this.cleanupManager.register('connection', () => 
  this.connectionManager.disconnect()
); // ‚úÖ –û–¥–∏–Ω–∞–∫–æ–≤–æ - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º –¥–ª—è unregister
```

## üîç –†–∞–∑–ª–∏—á–∏—è (—Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–µ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏)

### Windows-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `netsh` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PowerShell –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–µ—Å—Ç—Ä –¥–ª—è IP Forwarding
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Windows Firewall API

### macOS-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `route` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `ifconfig` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è IP Forwarding
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `pfctl` –¥–ª—è firewall (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥

**–ù–æ–¥–∞ –¥–ª—è Windows –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–æ–¥–µ –¥–ª—è macOS:**

1. ‚úÖ **–í—Å–µ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–¥–µ–Ω—Ç–∏—á–Ω—ã**
2. ‚úÖ **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è**
3. ‚úÖ **Graceful shutdown —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ**
4. ‚úÖ **Unregister –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ**
5. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è**
6. ‚úÖ **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ heartbeat –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ**

**–†–∞–∑–ª–∏—á–∏—è —Ç–æ–ª—å–∫–æ –≤:**
- –ö–æ–º–∞–Ω–¥–∞—Ö –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏ (netsh vs route)
- –ü—É—Ç—è—Ö –∫ WireGuard (Program Files vs /usr/local/bin)
- –ú–µ—Ç–æ–¥–∞—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (PowerShell vs ifconfig)

**–≠—Ç–∏ —Ä–∞–∑–ª–∏—á–∏—è –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å - –Ω–æ–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.**

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: –î–µ–∫–∞–±—Ä—å 2024*

